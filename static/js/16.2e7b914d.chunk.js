(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{889:function(e,t,a){"use strict";var n=a(898);function s(e,t){void 0===t&&(t={});var a=function(e){if(e&&"j"===e[0]&&":"===e[1])return e.substr(2);return e}(e);if(function(e,t){return"undefined"===typeof t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(a,t.doNotParse))try{return JSON.parse(a)}catch(n){}return e}var r=a(177),i=function(){function e(e,t){var a=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return"string"===typeof e?n.parse(e,t):"object"===typeof e&&null!==e?e:{}}(e,t),new Promise(function(){a.HAS_DOCUMENT_COOKIE="object"===typeof document&&"string"===typeof document.cookie}).catch(function(){})}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=n.parse(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,a){return void 0===t&&(t={}),this._updateBrowserValues(a),s(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var a={};for(var n in this.cookies)a[n]=s(this.cookies[n],e);return a},e.prototype.set=function(e,t,a){var s;"object"===typeof t&&(t=JSON.stringify(t)),this.cookies=r({},this.cookies,((s={})[e]=t,s)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=n.serialize(e,t,a)),this._emitChange({name:e,value:t,options:a})},e.prototype.remove=function(e,t){var a=t=r({},t,{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=r({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=n.serialize(e,"",a)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}();t.a=i},890:function(e,t,a){"use strict";var n=a(33),s=a(87),r=a(3),i=a.n(r),o=a(112),c=a.n(o),l=a(884),u=a.n(l),p=a(885),d={tag:p.m,inverse:c.a.bool,color:c.a.string,body:c.a.bool,outline:c.a.bool,className:c.a.string,cssModule:c.a.object,innerRef:c.a.oneOfType([c.a.object,c.a.string,c.a.func])},m=function(e){var t=e.className,a=e.cssModule,r=e.color,o=e.body,c=e.inverse,l=e.outline,d=e.tag,m=e.innerRef,f=Object(s.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),h=Object(p.i)(u()(t,"card",!!c&&"text-white",!!o&&"card-body",!!r&&(l?"border":"bg")+"-"+r),a);return i.a.createElement(d,Object(n.a)({},f,{className:h,ref:m}))};m.propTypes=d,m.defaultProps={tag:"div"},t.a=m},891:function(e,t,a){"use strict";var n=a(33),s=a(87),r=a(3),i=a.n(r),o=a(112),c=a.n(o),l=a(884),u=a.n(l),p=a(885),d={tag:p.m,className:c.a.string,cssModule:c.a.object,innerRef:c.a.oneOfType([c.a.object,c.a.string,c.a.func])},m=function(e){var t=e.className,a=e.cssModule,r=e.innerRef,o=e.tag,c=Object(s.a)(e,["className","cssModule","innerRef","tag"]),l=Object(p.i)(u()(t,"card-body"),a);return i.a.createElement(o,Object(n.a)({},c,{className:l,ref:r}))};m.propTypes=d,m.defaultProps={tag:"div"},t.a=m},898:function(e,t,a){"use strict";t.parse=function(e,t){if("string"!==typeof e)throw new TypeError("argument str must be a string");for(var a={},s=t||{},i=e.split(r),c=s.decode||n,l=0;l<i.length;l++){var u=i[l],p=u.indexOf("=");if(!(p<0)){var d=u.substr(0,p).trim(),m=u.substr(++p,u.length).trim();'"'==m[0]&&(m=m.slice(1,-1)),void 0==a[d]&&(a[d]=o(m,c))}}return a},t.serialize=function(e,t,a){var n=a||{},r=n.encode||s;if("function"!==typeof r)throw new TypeError("option encode is invalid");if(!i.test(e))throw new TypeError("argument name is invalid");var o=r(t);if(o&&!i.test(o))throw new TypeError("argument val is invalid");var c=e+"="+o;if(null!=n.maxAge){var l=n.maxAge-0;if(isNaN(l)||!isFinite(l))throw new TypeError("option maxAge is invalid");c+="; Max-Age="+Math.floor(l)}if(n.domain){if(!i.test(n.domain))throw new TypeError("option domain is invalid");c+="; Domain="+n.domain}if(n.path){if(!i.test(n.path))throw new TypeError("option path is invalid");c+="; Path="+n.path}if(n.expires){if("function"!==typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");c+="; Expires="+n.expires.toUTCString()}n.httpOnly&&(c+="; HttpOnly");n.secure&&(c+="; Secure");if(n.sameSite){var u="string"===typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite;switch(u){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return c};var n=decodeURIComponent,s=encodeURIComponent,r=/; */,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function o(e,t){try{return t(e)}catch(a){return e}}},899:function(e,t,a){"use strict";var n=a(33),s=a(87),r=a(886),i=a(67),o=a(3),c=a.n(o),l=a(112),u=a.n(l),p=a(884),d=a.n(p),m=a(885),f={children:u.a.node,inline:u.a.bool,tag:m.m,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),className:u.a.string,cssModule:u.a.object},h=function(e){function t(t){var a;return(a=e.call(this,t)||this).getRef=a.getRef.bind(Object(r.a)(a)),a.submit=a.submit.bind(Object(r.a)(a)),a}Object(i.a)(t,e);var a=t.prototype;return a.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},a.submit=function(){this.ref&&this.ref.submit()},a.render=function(){var e=this.props,t=e.className,a=e.cssModule,r=e.inline,i=e.tag,o=e.innerRef,l=Object(s.a)(e,["className","cssModule","inline","tag","innerRef"]),u=Object(m.i)(d()(t,!!r&&"form-inline"),a);return c.a.createElement(i,Object(n.a)({},l,{ref:o,className:u}))},t}(o.Component);h.propTypes=f,h.defaultProps={tag:"form"},t.a=h},920:function(e,t,a){"use strict";var n=a(33),s=a(87),r=a(3),i=a.n(r),o=a(112),c=a.n(o),l=a(884),u=a.n(l),p=a(885),d={tag:p.m,className:c.a.string,cssModule:c.a.object},m=function(e){var t=e.className,a=e.cssModule,r=e.tag,o=Object(s.a)(e,["className","cssModule","tag"]),c=Object(p.i)(u()(t,"card-group"),a);return i.a.createElement(r,Object(n.a)({},o,{className:c}))};m.propTypes=d,m.defaultProps={tag:"div"},t.a=m},936:function(e,t,a){"use strict";var n=a(33),s=a(87),r=a(895),i=a(3),o=a.n(i),c=a(112),l=a.n(c),u=a(884),p=a.n(u),d=a(885),m=a(905),f={children:l.a.node,className:l.a.string,closeClassName:l.a.string,closeAriaLabel:l.a.string,cssModule:l.a.object,color:l.a.string,fade:l.a.bool,isOpen:l.a.bool,toggle:l.a.func,tag:d.m,transition:l.a.shape(m.a.propTypes),innerRef:l.a.oneOfType([l.a.object,l.a.string,l.a.func])},h={color:"success",isOpen:!0,tag:"div",closeAriaLabel:"Close",fade:!0,transition:Object(r.a)({},m.a.defaultProps,{unmountOnExit:!0})};function g(e){var t=e.className,a=e.closeClassName,i=e.closeAriaLabel,c=e.cssModule,l=e.tag,u=e.color,f=e.isOpen,h=e.toggle,g=e.children,b=e.transition,v=e.fade,y=e.innerRef,E=Object(s.a)(e,["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"]),O=Object(d.i)(p()(t,"alert","alert-"+u,{"alert-dismissible":h}),c),w=Object(d.i)(p()("close",a),c),N=Object(r.a)({},m.a.defaultProps,b,{baseClass:v?b.baseClass:"",timeout:v?b.timeout:0});return o.a.createElement(m.a,Object(n.a)({},E,N,{tag:l,className:O,in:f,role:"alert",innerRef:y}),h?o.a.createElement("button",{type:"button",className:w,"aria-label":i,onClick:h},o.a.createElement("span",{"aria-hidden":"true"},"\xd7")):null,g)}g.propTypes=f,g.defaultProps=h,t.a=g},960:function(e,t,a){"use strict";a.r(t);var n=a(227),s=a(228),r=a(230),i=a(229),o=a(233),c=a(231),l=a(3),u=a.n(l),p=a(232),d=a(86),m=a(928),f=a(892),h=a(893),g=a(920),b=a(890),v=a(936),y=a(891),E=a(899),O=a(921),w=a(961),N=a(937),j=a(902),C=a(896),S=new(a(889).a),k=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).updateInputValue=a.updateInputValue.bind(Object(o.a)(a)),a.requestLogin=a.requestLogin.bind(Object(o.a)(a)),a.state={username:"",password:"",loggedIn:!1,verified:!1,notverified:!1},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props.location.search),"?verified=true"===this.props.location.search&&this.setState({verified:!0}),"?verified=false"===this.props.location.search&&this.setState({notverified:!0}),void 0!==S.get("token")&&null!==S.get("token")&&this.setState({loggedIn:!0})}},{key:"requestLogin",value:function(){var e=this,t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.state.username,password:this.state.password})};fetch("https://missionaustralia-back.herokuapp.com/login",t).then(function(e){return e.json()}).then(function(t){console.log(t),200===t.data.status?(alert("Login successful"),e.setState({loggedIn:!0}),S.set("token",t.data.token,{path:"/"}),!0===t.data.admin?S.set("admin",t.data.title,{path:"/"}):S.set("admin",!1,{path:"/"})):alert(t.data.message)})}},{key:"updateInputValue",value:function(e,t){var a=this;1===t?this.setState({username:e.target.value},function(){console.log("Username:",a.state.username)}):2===t&&this.setState({password:e.target.value},function(){console.log("Password:",a.state.password)})}},{key:"render",value:function(){var e=this;return this.state.loggedIn?u.a.createElement(d.c,{to:"/dashboard"}):u.a.createElement("div",{className:"app flex-row align-items-center"},u.a.createElement(m.a,null,u.a.createElement(f.a,{className:"justify-content-center"},u.a.createElement(h.a,{md:"8"},u.a.createElement(g.a,null,u.a.createElement(b.a,{className:"p-4"},!0===this.state.verified?u.a.createElement(v.a,{color:"success"},"Email Verified"):null,!0===this.state.notverified?u.a.createElement(v.a,{color:"danger"},"Email verification failed"):null,u.a.createElement(y.a,null,u.a.createElement(E.a,null,u.a.createElement("h1",null,"Login"),u.a.createElement("p",{className:"text-muted"},"Sign In to your account"),u.a.createElement(O.a,{className:"mb-3"},u.a.createElement(w.a,{addonType:"prepend"},u.a.createElement(N.a,null,"@")),u.a.createElement(j.a,{type:"text",placeholder:"Email",autoComplete:"username",id:"username",value:this.state.username,onChange:function(t){return e.updateInputValue(t,1)}})),u.a.createElement(O.a,{className:"mb-4"},u.a.createElement(w.a,{addonType:"prepend"},u.a.createElement(N.a,null,u.a.createElement("i",{className:"icon-lock"}))),u.a.createElement(j.a,{type:"password",placeholder:"Password",autoComplete:"current-password",id:"password",value:this.state.password,onChange:function(t){return e.updateInputValue(t,2)}})),u.a.createElement("a",{href:"/#/forgot"},"Forgot password"),u.a.createElement(f.a,null,u.a.createElement(h.a,{xs:"6"},u.a.createElement(C.a,{color:"primary",className:"px-4",type:"button",onClick:this.requestLogin},"Login")))))),u.a.createElement(b.a,{className:"text-white bg-primary py-5 d-md-down-none",style:{width:"44%"}},u.a.createElement(y.a,{className:"text-center"},u.a.createElement("div",null,u.a.createElement("h2",null,"Sign up"),u.a.createElement(p.Link,{to:"/register"},u.a.createElement(C.a,{color:"primary",className:"mt-3",active:!0,tabIndex:-1},"Register Now!"))))))))))}}]),t}(l.Component);t.default=k}}]);
//# sourceMappingURL=16.2e7b914d.chunk.js.map